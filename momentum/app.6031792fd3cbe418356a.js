(()=>{"use strict";var e={130:(e,t,n)=>{n.r(t)},613:(e,t,n)=>{n.r(t)},723:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),Promise.resolve().then((()=>a(n(613)))),Promise.resolve().then((()=>a(n(130))));const c=l(n(34)),u=document.querySelector(".time"),s=document.querySelector(".date"),d=document.querySelector(".greeting"),g=document.querySelector(".slide-prev"),m=document.querySelector(".slide-next"),y=document.getElementById("greeting");let f;u.textContent="Text",s.textContent="Text",d.innerText="Text",""!==localStorage.getItem("language")&&null!==localStorage.getItem("language")||localStorage.setItem("language","en");const h={ru:{greeting:{morning:"Доброе утро",afternoon:"Добрый день",evening:"Добрый вечер",night:"Доброй ночи"},wind:"Скорость ветра",units:"м/с",humidity:"Влажность",now:"Сейчас проигрывается"},en:{greeting:{morning:"Good morning",afternoon:"Good aftenoon",evening:"Good evening",night:"Good night"},wind:"Wind",units:"m/s",humidity:"Humidity",now:"Now playing"}};!function e(){const t=new Date;let n=t.getHours(),o=t.getMinutes(),r=t.getSeconds();n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),u.textContent=`${n}:${o}:${r}`,function(){const e=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),t=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],n=new Date,o=n.getDay(),r=n.toLocaleString(localStorage.getItem("language"),{month:"long"}),a=n.getDate();if("en"===localStorage.getItem("language")){const t=e[o];s.textContent=t+", "+r+" "+a}else{const e=t[o];s.textContent=e+", "+r+" "+a}}(),function(){let e=localStorage.getItem("language"),t=h[e];y.textContent=t.greeting[localStorage.getItem("timeOfDay")]}(),setTimeout(e,1e3)}();const v=document.querySelector(".name");function p(){localStorage.setItem("name",v.value)}v.addEventListener("change",p),window.addEventListener("load",(function(){localStorage.getItem("name")&&(v.value=localStorage.getItem("name"))}),M),window.addEventListener("beforunload",p);const S=document.body;let w="";function q(){let e=(new Date).getHours();return w=e<6&&e>=0?"night":e<12&&e>=6?"morning":e>=12&&e<18?"afternoon":"evening",w}function x(){let e=q(),t=(n=Math.ceil(1),o=Math.floor(20),Math.floor(Math.random()*(o-n+1))+n).toString();var n,o;t<10&&(t=t.padStart(2,"0"));const r=new Image;r.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg`,r.onload=()=>{S.style.backgroundImage=`url(https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg)`,S.style.backgroundSize="cover"}}q(),localStorage.setItem("timeOfDay",w),x(),g.addEventListener("click",(function(){f-=1,0===f&&(f=20),x()})),m.addEventListener("click",(function(){f+=1,21===f&&(f=0),x()}));const b=document.querySelector(".weather-icon"),L=document.querySelector(".temperature"),E=document.querySelector(".wind"),T=document.querySelector(".humidity"),k=document.querySelector(".weather-description"),_=document.querySelector(".city");function M(){localStorage.getItem("city")?_.value=localStorage.getItem("city"):_.value="Minsk",$()}function $(){return i(this,void 0,void 0,(function*(){let e=localStorage.getItem("language"),t=h[e];const n=`https://api.openweathermap.org/data/2.5/weather?q=${_.value}&lang=${e}&appid=354e311f752282cc59a3b898c584baf1&units=metric`,o=yield fetch(n),r=yield o.json();b.style.display="block",b.style.fontSize="150px",b.classList.add("weather-icon","owf"),b.classList.add(`owf-${r.weather[0].id}`),L.textContent=`${r.main.temp.toFixed(0)}°C`,E.textContent=`${t.wind}: ${r.wind.speed} ${t.units}`,T.textContent=`${t.humidity}:  ${r.main.humidity}`,k.textContent=r.weather[0].description}))}_.addEventListener("change",$),window.addEventListener("load",M);const I=document.querySelector(".quote"),j=document.querySelector(".author"),C=document.querySelector(".change-quote");function O(){return i(this,void 0,void 0,(function*(){if("en"===localStorage.getItem("language")){const e=yield fetch("assets/json/quotes.json"),t=yield e.json();let n=t[Math.floor(Math.random()*t.length)];I.innerText=`" ${n.quote} "`,j.innerText=n.source}else{const e=yield fetch("assets/json/quotes_ru.json"),t=yield e.json();let n=t[Math.floor(Math.random()*t.length)];I.innerText=`" ${n.text} "`,j.innerText=n.author}}))}O(),window.addEventListener("load",O()),C.addEventListener("click",O),document.querySelector(".play-prev"),document.querySelector(".play-next");const P=document.querySelector(".play");let D=!1,A=0;const W=new Audio;W.src=c.default[A].src,W.currentTime=0,P.addEventListener("click",(function e(){D?(W.pause(),D=!1):(W.play(),D=!0),W.addEventListener("ended",(()=>{A++,A>c.default.length-1&&(A=0),e()}))})),P.addEventListener("click",(function(){P.classList.toggle("pause")}));const F=document.querySelector(".player-wrapper"),G=F.querySelector(".song-details .song-title"),B=F.querySelector(".play-pause"),H=F.querySelector("#prev"),z=F.querySelector("#next"),R=F.querySelector(".progress-bar"),Y=F.querySelector(".music-list"),N=F.querySelector("#more-music"),X=Y.querySelector("#close");let J=1;function K(e){G.innerText=c.default[e-1].title,W.src=c.default[e-1].src}function Q(){F.classList.add("paused"),B.querySelector("i").innerText="pause",W.play(),te.forEach(((e,t)=>{J-1!==t?e.classList.remove("item-active"):e.classList.add("item-active")})),W.addEventListener(".ended",(()=>{U()}))}function U(){J++,J=J>c.default.length?1:J,K(J),Q()}window.addEventListener("load",(()=>{K(J)})),B.addEventListener("click",(()=>{F.classList.contains("paused")?(F.classList.remove("paused"),B.querySelector("i").innerText="play_arrow",W.pause()):Q()})),z.addEventListener("click",(()=>{U()})),H.addEventListener("click",(()=>{J--,J=J<1?c.default.length:J,K(J),Q()})),W.addEventListener("timeupdate",(e=>{const t=e.target.currentTime;let n=t/e.target.duration*100;R.style.width=`${n}%`;let o=F.querySelector(".current-time"),r=F.querySelector(".max-duration");W.addEventListener("loadeddata",(()=>{let e=W.duration,t=Math.floor(e/60),n=Math.floor(e%60);n<10&&(n=`0${n}`),r.innerText=`${t}:${n}`}));let a=Math.floor(t/60),i=Math.floor(t%60);i<10&&(i=`0${i}`),o.innerText=`${a}:${i}`}));const V=F.querySelector(".progress-area");V.addEventListener("click",(e=>{let t=V.clientWidth,n=e.offsetX,o=W.duration;W.currentTime=n/t*o,Q()}));const Z=F.querySelector("#repeat-plist");Z.addEventListener("click",(()=>{switch(Z.innerText){case"repeat":Z.innerText="repeat_one",Z.setAttribute("title","Song looped");break;case"repeat_one":Z.innerText="shuffle",Z.setAttribute("title","Playback shuffle");break;case"shuffle":Z.innerText="repeat",Z.setAttribute("title","Playlist looped")}})),W.addEventListener("ended",(()=>{switch(Z.innerText){case"repeat":U();break;case"repeat_one":W.currentTime=0,K(J),Q();break;case"shuffle":let e=Math.floor(Math.random()*c.default.length+1);do{e=Math.floor(Math.random()*c.default.length+1)}while(J==e);J=e,K(J),Q()}})),N.addEventListener("click",(()=>{Y.classList.toggle("show")})),X.addEventListener("click",(()=>{N.click()}));const ee=document.querySelector(".play-list");for(let e=0;e<c.default.length;e++){const t=document.createElement("li");t.classList.add("play-item"),t.textContent=c.default[e].title,ee.append(t)}const te=document.querySelectorAll(".play-item"),ne=F.querySelector(".volume"),oe=F.querySelector(".volume-wr"),re=F.querySelector(".i-volume");ne.addEventListener("input",(function(e){ne.style.background=`linear-gradient(to right, rgba(238,130,238, 1) ${this.value}%, rgba(253,238,240, 1) ${this.value}%)`,W.volume=ne.value/100,ne.value<=0?oe.querySelector("i").innerText="volume_off":oe.querySelector("i").innerText="volume_up"}),!1),window.addEventListener("load",(()=>{ne.style.background="linear-gradient(to right, rgba(238,130,238, 1) 30%, rgba(253,238,240, 1) 30%)"})),re.addEventListener("click",(function(){W.muted=!W.muted,W.muted?(ne.value="0",oe.querySelector("i").innerText="volume_off",ne.style.background="linear-gradient(to right, rgba(238,130,238, 1) 0%, rgba(253,238,240, 1) 0%)"):(ne.value=100*W.volume,oe.querySelector("i").innerText="volume_up")})),document.querySelector(".i-setting i").addEventListener("click",(()=>{ce.classList.toggle("none")}));const ae=document.getElementById("now");let ie=localStorage.getItem("language"),le=h[ie];ae.textContent=le.now,document.querySelector(".rus"),document.querySelector(".eng");const ce=document.querySelector(".setting-list");ce.addEventListener("click",(function(e){localStorage.setItem("language",e.target.textContent);let t=localStorage.getItem("language"),n=h[t];$(),O(),ae.textContent=n.now}))},34:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua Caelestis.mp3",duration:"00:39"},{title:"Ennio Morricone",src:"./assets/sounds/Ennio Morricone.mp3",duration:"01:37"},{title:"River Flows In You",src:"./assets/sounds/River Flows In You.mp3",duration:"01:37"},{title:"Summer Wind",src:"./assets/sounds/Summer Wind.mp3",duration:"01:50"}]}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(723)})();