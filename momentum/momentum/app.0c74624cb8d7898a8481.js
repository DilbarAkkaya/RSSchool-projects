(()=>{"use strict";var e={130:(e,t,n)=>{n.r(t)},613:(e,t,n)=>{n.r(t)},723:function(e,t,n){var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},i=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{c(o.next(e))}catch(e){a(e)}}function l(e){try{c(o.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),Promise.resolve().then((()=>a(n(613)))),Promise.resolve().then((()=>a(n(130))));const c=l(n(34)),u=document.querySelector(".time"),s=document.querySelector(".date"),d=document.querySelector(".greeting"),g=document.querySelector(".slide-prev"),m=document.querySelector(".slide-next"),y=document.getElementById("greeting");let f;u.textContent="Text",s.textContent="Text",d.innerText="Text",""!==localStorage.getItem("language")&&null!==localStorage.getItem("language")||localStorage.setItem("language","en");const h={ru:{greeting:{morning:"Доброе утро",afternoon:"Добрый день",evening:"Добрый вечер",night:"Доброй ночи"},wind:"Скорость ветра",units:"м/с",humidity:"Влажность",now:"Сейчас проигрывается",error:"Ошибка, неверный город"},en:{greeting:{morning:"Good morning",afternoon:"Good aftenoon",evening:"Good evening",night:"Good night"},wind:"Wind",units:"m/s",humidity:"Humidity",now:"Now playing",error:"Error, wrong city"}};!function e(){const t=new Date;let n=t.getHours(),o=t.getMinutes(),r=t.getSeconds();n<10&&(n="0"+n),o<10&&(o="0"+o),r<10&&(r="0"+r),u.textContent=`${n}:${o}:${r}`,function(){const e=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),t=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],n=new Date,o=n.getDay(),r=n.toLocaleString(localStorage.getItem("language"),{month:"long"}),a=n.getDate();if("en"===localStorage.getItem("language")){const t=e[o];s.textContent=t+", "+r+" "+a}else{const e=t[o];s.textContent=e+", "+r+" "+a}}(),function(){let e=localStorage.getItem("language"),t=h[e];y.textContent=t.greeting[localStorage.getItem("timeOfDay")]}(),setTimeout(e,1e3)}();const p=document.querySelector(".name");function v(){localStorage.setItem("name",p.value)}p.addEventListener("change",v),window.addEventListener("load",(function(){localStorage.getItem("name")&&(p.value=localStorage.getItem("name"))}),M),window.addEventListener("beforunload",v);const S=document.body;let w="";function q(){let e=(new Date).getHours();return w=e<6&&e>=0?"night":e<12&&e>=6?"morning":e>=12&&e<18?"afternoon":"evening",w}function x(){let e=q(),t=(n=Math.ceil(1),o=Math.floor(20),Math.floor(Math.random()*(o-n+1))+n).toString();var n,o;t<10&&(t=t.padStart(2,"0"));const r=new Image;r.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg`,r.onload=()=>{S.style.backgroundImage=`url(https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg)`,S.style.backgroundSize="cover"}}q(),localStorage.setItem("timeOfDay",w),x(),g.addEventListener("click",(function(){f-=1,0===f&&(f=20),x()})),m.addEventListener("click",(function(){f+=1,21===f&&(f=0),x()}));const b=document.querySelector(".weather-icon"),L=document.querySelector(".temperature"),E=document.querySelector(".wind"),k=document.querySelector(".humidity"),T=document.querySelector(".weather-description"),$=document.querySelector(".city"),_=document.querySelector(".weather-error");function M(){localStorage.getItem("city")?$.value=localStorage.getItem("city"):$.value="Minsk",I()}function I(){return i(this,void 0,void 0,(function*(){let e=localStorage.getItem("language"),t=h[e];try{const n=`https://api.openweathermap.org/data/2.5/weather?q=${$.value}&lang=${e}&appid=354e311f752282cc59a3b898c584baf1&units=metric`,o=yield fetch(n),r=yield o.json();b.style.display="block",b.style.fontSize="150px",b.classList.add("weather-icon","owf"),b.classList.add(`owf-${r.weather[0].id}`),L.textContent=`${r.main.temp.toFixed(0)}°C`,E.textContent=`${t.wind}: ${r.wind.speed} ${t.units}`,k.textContent=`${t.humidity}:  ${r.main.humidity}`,T.textContent=r.weather[0].description}catch(e){_.textContent=`${t.error}`,b.style.display="none",E.textContent="",L.textContent="",k.textContent="",T.textContent=""}}))}$.addEventListener("change",I),window.addEventListener("load",M);const C=document.querySelector(".quote"),j=document.querySelector(".author"),O=document.querySelector(".change-quote");function P(){return i(this,void 0,void 0,(function*(){if("en"===localStorage.getItem("language")){const e=yield fetch("assets/json/quotes.json"),t=yield e.json();let n=t[Math.floor(Math.random()*t.length)];C.innerText=`" ${n.quote} "`,j.innerText=n.source}else{const e=yield fetch("assets/json/quotes_ru.json"),t=yield e.json();let n=t[Math.floor(Math.random()*t.length)];C.innerText=`" ${n.text} "`,j.innerText=n.author}}))}P(),window.addEventListener("load",P()),O.addEventListener("click",P),document.querySelector(".play-prev"),document.querySelector(".play-next");const D=document.querySelector(".play");let A=!1,W=0;const F=new Audio;F.src=c.default[W].src,F.currentTime=0,D.addEventListener("click",(function e(){A?(F.pause(),A=!1):(F.play(),A=!0),F.addEventListener("ended",(()=>{W++,W>c.default.length-1&&(W=0),e()}))})),D.addEventListener("click",(function(){D.classList.toggle("pause")}));const G=document.querySelector(".player-wrapper"),B=G.querySelector(".song-details .song-title"),H=G.querySelector(".play-pause"),z=G.querySelector("#prev"),R=G.querySelector("#next"),Y=G.querySelector(".progress-bar"),N=G.querySelector(".music-list"),X=G.querySelector("#more-music"),J=N.querySelector("#close");let K=1;function Q(e){B.innerText=c.default[e-1].title,F.src=c.default[e-1].src}function U(){G.classList.add("paused"),H.querySelector("i").innerText="pause",F.play(),ne.forEach(((e,t)=>{K-1!==t?e.classList.remove("item-active"):e.classList.add("item-active")})),F.addEventListener(".ended",(()=>{V()}))}function V(){K++,K=K>c.default.length?1:K,Q(K),U()}window.addEventListener("load",(()=>{Q(K)})),H.addEventListener("click",(()=>{G.classList.contains("paused")?(G.classList.remove("paused"),H.querySelector("i").innerText="play_arrow",F.pause()):U()})),R.addEventListener("click",(()=>{V()})),z.addEventListener("click",(()=>{K--,K=K<1?c.default.length:K,Q(K),U()})),F.addEventListener("timeupdate",(e=>{const t=e.target.currentTime;let n=t/e.target.duration*100;Y.style.width=`${n}%`;let o=G.querySelector(".current-time"),r=G.querySelector(".max-duration");F.addEventListener("loadeddata",(()=>{let e=F.duration,t=Math.floor(e/60),n=Math.floor(e%60);n<10&&(n=`0${n}`),r.innerText=`${t}:${n}`}));let a=Math.floor(t/60),i=Math.floor(t%60);i<10&&(i=`0${i}`),o.innerText=`${a}:${i}`}));const Z=G.querySelector(".progress-area");Z.addEventListener("click",(e=>{let t=Z.clientWidth,n=e.offsetX,o=F.duration;F.currentTime=n/t*o,U()}));const ee=G.querySelector("#repeat-plist");ee.addEventListener("click",(()=>{switch(ee.innerText){case"repeat":ee.innerText="repeat_one",ee.setAttribute("title","Song looped");break;case"repeat_one":ee.innerText="shuffle",ee.setAttribute("title","Playback shuffle");break;case"shuffle":ee.innerText="repeat",ee.setAttribute("title","Playlist looped")}})),F.addEventListener("ended",(()=>{switch(ee.innerText){case"repeat":V();break;case"repeat_one":F.currentTime=0,Q(K),U();break;case"shuffle":let e=Math.floor(Math.random()*c.default.length+1);do{e=Math.floor(Math.random()*c.default.length+1)}while(K==e);K=e,Q(K),U()}})),X.addEventListener("click",(()=>{N.classList.toggle("show")})),J.addEventListener("click",(()=>{X.click()}));const te=document.querySelector(".play-list");for(let e=0;e<c.default.length;e++){const t=document.createElement("li");t.classList.add("play-item"),t.textContent=c.default[e].title,te.append(t)}const ne=document.querySelectorAll(".play-item"),oe=G.querySelector(".volume"),re=G.querySelector(".volume-wr"),ae=G.querySelector(".i-volume");oe.addEventListener("input",(function(e){oe.style.background=`linear-gradient(to right, rgba(238,130,238, 1) ${this.value}%, rgba(253,238,240, 1) ${this.value}%)`,F.volume=oe.value/100,oe.value<=0?re.querySelector("i").innerText="volume_off":re.querySelector("i").innerText="volume_up"}),!1),window.addEventListener("load",(()=>{oe.style.background="linear-gradient(to right, rgba(238,130,238, 1) 30%, rgba(253,238,240, 1) 30%)"})),ae.addEventListener("click",(function(){F.muted=!F.muted,F.muted?(oe.value="0",re.querySelector("i").innerText="volume_off",oe.style.background="linear-gradient(to right, rgba(238,130,238, 1) 0%, rgba(253,238,240, 1) 0%)"):(oe.value=100*F.volume,re.querySelector("i").innerText="volume_up")})),document.querySelector(".i-setting i").addEventListener("click",(()=>{ge.classList.toggle("none")}));const ie=document.getElementById("now");let le=localStorage.getItem("language"),ce=h[le];function ue(e){localStorage.setItem("language",e.target.textContent);let t=localStorage.getItem("language"),n=h[t];I(),P(),ie.textContent=n.now}ie.textContent=ce.now;const se=document.querySelector(".rus"),de=document.querySelector(".eng"),ge=document.querySelector(".setting-list");se.addEventListener("click",ue),de.addEventListener("click",ue),document.querySelector(".api").addEventListener("click",(function(){return i(this,void 0,void 0,(function*(){const e=yield fetch("https://api.unsplash.com/photos/random?orientation=landscape&query=nature&client_id=e2077ad31a806c894c460aec8f81bc2af4d09c4f8104ae3177bb809faf0eac17");let t=(yield e.json()).urls.regular,n=new Image;n.src=`${t}`,n.addEventListener("load",(()=>{body.style.backgroundImage=`url('${t}')`}))}))}))},34:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua Caelestis.mp3",duration:"00:39"},{title:"Ennio Morricone",src:"./assets/sounds/Ennio Morricone.mp3",duration:"01:37"},{title:"River Flows In You",src:"./assets/sounds/River Flows In You.mp3",duration:"01:37"},{title:"Summer Wind",src:"./assets/sounds/Summer Wind.mp3",duration:"01:50"}]}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(723)})();