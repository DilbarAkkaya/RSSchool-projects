(()=>{"use strict";var e={130:(e,t,o)=>{o.r(t)},613:(e,t,o)=>{o.r(t)},723:function(e,t,o){var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return l(t,e),t},c=this&&this.__awaiter||function(e,t,o,n){return new(o||(o=Promise))((function(l,r){function c(e){try{i(n.next(e))}catch(e){r(e)}}function a(e){try{i(n.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?l(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,a)}i((n=n.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),Promise.resolve().then((()=>r(o(613)))),Promise.resolve().then((()=>r(o(130))));const i=a(o(34)),s=document.querySelector(".time"),u=document.querySelector(".date"),d=document.querySelector(".greeting"),g=document.querySelector(".slide-prev"),m=document.querySelector(".slide-next"),y=document.getElementById("greeting");let f;s.textContent="Text",u.textContent="Text",d.innerText="Text",""!==localStorage.getItem("language")&&null!==localStorage.getItem("language")||localStorage.setItem("language","en");const h={ru:{greeting:{morning:"Доброе утро",afternoon:"Добрый день",evening:"Добрый вечер",night:"Доброй ночи"},wind:"Скорость ветра",units:"м/с",humidity:"Влажность",now:"Сейчас проигрывается",error:"Ошибка, неверный город"},en:{greeting:{morning:"Good morning",afternoon:"Good aftenoon",evening:"Good evening",night:"Good night"},wind:"Wind",units:"m/s",humidity:"Humidity",now:"Now playing",error:"Error, wrong city"}};!function e(){const t=new Date;let o=t.getHours(),n=t.getMinutes(),l=t.getSeconds();o<10&&(o="0"+o),n<10&&(n="0"+n),l<10&&(l="0"+l),s.textContent=`${o}:${n}:${l}`,function(){const e=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),t=["Понедельник","Вторник","Среда","Четверг","Пятница","Суббота","Воскресенье"],o=new Date,n=o.getDay(),l=o.toLocaleString(localStorage.getItem("language"),{month:"long"}),r=o.getDate();if("en"===localStorage.getItem("language")){const t=e[n];u.textContent=t+", "+l+" "+r}else{const e=t[n];u.textContent=e+", "+l+" "+r}}(),function(){let e=localStorage.getItem("language"),t=h[e];y.textContent=t.greeting[localStorage.getItem("timeOfDay")]}(),setTimeout(e,1e3)}();const p=document.querySelector(".name");function v(){localStorage.setItem("name",p.value)}p.addEventListener("change",v),window.addEventListener("load",(function(){localStorage.getItem("name")&&(p.value=localStorage.getItem("name"))}),P),window.addEventListener("beforunload",v);const S=document.body;function w(e,t){return e=Math.ceil(1),t=Math.floor(20),Math.floor(Math.random()*(t-e+1))+e}let q="";function x(){let e=(new Date).getHours();return q=e<6&&e>=0?"night":e<12&&e>=6?"morning":e>=12&&e<18?"afternoon":"evening",q}function b(){let e=x(),t=w().toString();t<10&&(t=t.padStart(2,"0"));const o=new Image;o.src=`https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg`,o.onload=()=>{S.style.backgroundImage=`url(https://raw.githubusercontent.com/rolling-scopes-school/stage1-tasks/assets/images/${e}/${t}.jpg)`,S.style.backgroundSize="cover"}}x(),localStorage.setItem("timeOfDay",q),b(),g.addEventListener("click",(function(){f-=1,0===f&&(f=20),b()})),m.addEventListener("click",(function(){f+=1,21===f&&(f=0),b()}));const L=document.querySelector(".weather-icon"),k=document.querySelector(".temperature"),E=document.querySelector(".wind"),I=document.querySelector(".humidity"),_=document.querySelector(".weather-description"),T=document.querySelector(".city"),$=document.querySelector(".weather-error");function P(){localStorage.getItem("city")?T.value=localStorage.getItem("city"):T.value="Minsk",M()}function M(){return c(this,void 0,void 0,(function*(){let e=localStorage.getItem("language"),t=h[e];try{const o=`https://api.openweathermap.org/data/2.5/weather?q=${T.value}&lang=${e}&appid=354e311f752282cc59a3b898c584baf1&units=metric`,n=yield fetch(o),l=yield n.json();L.style.display="block",L.style.fontSize="150px",L.classList.add("weather-icon","owf"),L.classList.add(`owf-${l.weather[0].id}`),k.textContent=`${l.main.temp.toFixed(0)}°C`,E.textContent=`${t.wind}: ${l.wind.speed} ${t.units}`,I.textContent=`${t.humidity}:  ${l.main.humidity}`,_.textContent=l.weather[0].description}catch(e){$.textContent=`${t.error}`,L.style.display="none",E.textContent="",k.textContent="",I.textContent="",_.textContent=""}}))}T.addEventListener("change",M),window.addEventListener("load",P);const C=document.querySelector(".quote"),j=document.querySelector(".author"),A=document.querySelector(".change-quote");function O(){return c(this,void 0,void 0,(function*(){if("en"===localStorage.getItem("language")){const e=yield fetch("assets/json/quotes.json"),t=yield e.json();let o=t[Math.floor(Math.random()*t.length)];C.innerText=`" ${o.quote} "`,j.innerText=o.source}else{const e=yield fetch("assets/json/quotes_ru.json"),t=yield e.json();let o=t[Math.floor(Math.random()*t.length)];C.innerText=`" ${o.text} "`,j.innerText=o.author}}))}O(),window.addEventListener("load",O()),A.addEventListener("click",O),document.querySelector(".play-prev"),document.querySelector(".play-next");const D=document.querySelector(".play");let F=!1,G=0;const W=new Audio;W.src=i.default[G].src,W.currentTime=0,D.addEventListener("click",(function e(){F?(W.pause(),F=!1):(W.play(),F=!0),W.addEventListener("ended",(()=>{G++,G>i.default.length-1&&(G=0),e()}))})),D.addEventListener("click",(function(){D.classList.toggle("pause")}));const H=document.querySelector(".player-wrapper"),B=H.querySelector(".song-details .song-title"),z=H.querySelector(".play-pause"),R=H.querySelector("#prev"),U=H.querySelector("#next"),Y=H.querySelector(".progress-bar"),N=H.querySelector(".music-list"),X=H.querySelector("#more-music"),J=N.querySelector("#close");let K=1;function Q(e){B.innerText=i.default[e-1].title,W.src=i.default[e-1].src}function V(){H.classList.add("paused"),z.querySelector("i").innerText="pause",W.play(),ne.forEach(((e,t)=>{K-1!==t?e.classList.remove("item-active"):e.classList.add("item-active")})),W.addEventListener(".ended",(()=>{Z()}))}function Z(){K++,K=K>i.default.length?1:K,Q(K),V()}window.addEventListener("load",(()=>{Q(K)})),z.addEventListener("click",(()=>{H.classList.contains("paused")?(H.classList.remove("paused"),z.querySelector("i").innerText="play_arrow",W.pause()):V()})),U.addEventListener("click",(()=>{Z()})),R.addEventListener("click",(()=>{K--,K=K<1?i.default.length:K,Q(K),V()})),W.addEventListener("timeupdate",(e=>{const t=e.target.currentTime;let o=t/e.target.duration*100;Y.style.width=`${o}%`;let n=H.querySelector(".current-time"),l=H.querySelector(".max-duration");W.addEventListener("loadeddata",(()=>{let e=W.duration,t=Math.floor(e/60),o=Math.floor(e%60);o<10&&(o=`0${o}`),l.innerText=`${t}:${o}`}));let r=Math.floor(t/60),c=Math.floor(t%60);c<10&&(c=`0${c}`),n.innerText=`${r}:${c}`}));const ee=H.querySelector(".progress-area");ee.addEventListener("click",(e=>{let t=ee.clientWidth,o=e.offsetX,n=W.duration;W.currentTime=o/t*n,V()}));const te=H.querySelector("#repeat-plist");te.addEventListener("click",(()=>{switch(te.innerText){case"repeat":te.innerText="repeat_one",te.setAttribute("title","Song looped");break;case"repeat_one":te.innerText="shuffle",te.setAttribute("title","Playback shuffle");break;case"shuffle":te.innerText="repeat",te.setAttribute("title","Playlist looped")}})),W.addEventListener("ended",(()=>{switch(te.innerText){case"repeat":Z();break;case"repeat_one":W.currentTime=0,Q(K),V();break;case"shuffle":let e=Math.floor(Math.random()*i.default.length+1);do{e=Math.floor(Math.random()*i.default.length+1)}while(K==e);K=e,Q(K),V()}})),X.addEventListener("click",(()=>{N.classList.toggle("show")})),J.addEventListener("click",(()=>{X.click()}));const oe=document.querySelector(".play-list");for(let e=0;e<i.default.length;e++){const t=document.createElement("li");t.classList.add("play-item"),t.textContent=i.default[e].title,oe.append(t)}const ne=document.querySelectorAll(".play-item"),le=H.querySelector(".volume"),re=H.querySelector(".volume-wr"),ce=H.querySelector(".i-volume");le.addEventListener("input",(function(e){le.style.background=`linear-gradient(to right, rgba(238,130,238, 1) ${this.value}%, rgba(253,238,240, 1) ${this.value}%)`,W.volume=le.value/100,le.value<=0?re.querySelector("i").innerText="volume_off":re.querySelector("i").innerText="volume_up"}),!1),window.addEventListener("load",(()=>{le.style.background="linear-gradient(to right, rgba(238,130,238, 1) 30%, rgba(253,238,240, 1) 30%)"})),ce.addEventListener("click",(function(){W.muted=!W.muted,W.muted?(le.value="0",re.querySelector("i").innerText="volume_off",le.style.background="linear-gradient(to right, rgba(238,130,238, 1) 0%, rgba(253,238,240, 1) 0%)"):(le.value=100*W.volume,re.querySelector("i").innerText="volume_up")})),document.querySelector(".i-setting i").addEventListener("click",(()=>{me.classList.toggle("none")}));const ae=document.getElementById("now");let ie=localStorage.getItem("language"),se=h[ie];function ue(e){localStorage.setItem("language",e.target.textContent);let t=localStorage.getItem("language"),o=h[t];M(),O(),ae.textContent=o.now}ae.textContent=se.now;const de=document.querySelector(".rus"),ge=document.querySelector(".eng"),me=document.querySelector(".setting-list");de.addEventListener("click",ue),ge.addEventListener("click",ue),document.querySelector(".api").addEventListener("click",(function(){return c(this,void 0,void 0,(function*(){const e=yield fetch("https://api.unsplash.com/photos/random?orientation=landscape&query=nature&client_id=e2077ad31a806c894c460aec8f81bc2af4d09c4f8104ae3177bb809faf0eac17");let t=(yield e.json()).urls.regular,o=new Image;o.src=`${t}`,o.addEventListener("load",(()=>{S.style.backgroundImage=`url('${t}')`}))}))})),document.querySelector(".fli").addEventListener("click",(function(){return c(this,void 0,void 0,(function*(){const e=yield fetch("https://www.flickr.com/services/rest/?method=flickr.photos.search&api_key=0f15ff623f1198a1f7f52550f8c36057&tags=nature&extras=url_l&format=json&nojsoncallback=1"),t=yield e.json();console.log(t);let o=t.photos.photo[w(1,20)].url_l,n=new Image;n.src=`${o}`,n.addEventListener("load",(()=>{S.style.backgroundImage=`url('${o}')`}))}))})),document.querySelector(".git").addEventListener("click",b),console.group("%c Ваша оценка - 146 баллов","color: #696969; background-color:  #7fffd4"),console.log("%c Не выполненные/не засчитанные пункты:"),console.log("%c если источником получения фото указан API, в настройках приложения можно указать тег/теги, для которых API будет присылает фото"),console.log("%c cкрытие и отображение блоков происходит плавно, не влияя на другие элементы, которые находятся на странице, или плавно смещая их"),console.log("%c в настройках приложения можно скрыть/отобразить любой из блоков, которые находятся на странице: время, дата, приветствие, цитата дня, прогноз погоды, аудиоплеер, список дел/список ссылок/ваш собственный дополнительный функционал"),console.log("%c Частично выполненные пункты:"),console.log("%c ToDo List - список дел (как в оригинальном приложении) или Список ссылок (как в оригинальном приложении) или Свой собственный дополнительный функционал, по сложности аналогичный предложенным(взамен этим доп функции в плеере, перемешивание, повтор треков хотя бы 5 баллов)"),console.log("%c Выполненные пункты:"),console.log("%c время выводится в 24-часовом формате, например: 21:01:00"),console.log("%c время обновляется каждую секунду - часы идут. Когда меняется одна из цифр, остальные при этом не меняют своё положение на странице (время не дёргается)"),console.log('%c выводится день недели, число, месяц, например: "Воскресенье, 16 мая" / "Sunday, May 16" / "Нядзеля, 16 траўня"'),console.log("%c текст приветствия меняется в зависимости от времени суток (утро, день, вечер, ночь). Проверяется соответствие приветствия текущему времени суток"),console.log("%c пользователь может ввести своё имя. При перезагрузке страницы приложения имя пользователя сохраняется"),console.log("%c ссылка на фоновое изображение формируется с учётом времени суток и случайного номера изображения (от 01 до 20). Проверяем, что при перезагрузке страницы фоновое изображение изменилось. Если не изменилось, перезагружаем страницу ещё раз"),console.log("%c изображения можно перелистывать кликами по стрелкам, расположенным по бокам экрана.Изображения перелистываются последовательно - после 18 изображения идёт 19 (клик по правой стрелке), перед 18 изображением идёт 17 (клик по левой стрелке)"),console.log("%c изображения перелистываются по кругу: после двадцатого изображения идёт первое (клик по правой стрелке), перед 1 изображением идёт 20 (клик по левой стрелке)"),console.log("%c при смене слайдов важно обеспечить плавную смену фоновых изображений. Не должно быть состояний, когда пользователь видит частично загрузившееся изображение или страницу без фонового изображения. Плавную смену фоновых изображений не проверяем: 1) при загрузке и перезагрузке страницы 2) при открытой консоли браузера 3) при слишком частых кликах по стрелкам для смены изображения"),console.log("%c при перезагрузке страницы приложения указанный пользователем город сохраняется, данные о нём хранятся в local storage"),console.log("%c для указанного пользователем населённого пункта выводятся данные о погоде, если их возвращает API. Данные о погоде включают в себя: иконку погоды, описание погоды, температуру в °C, скорость ветра в м/с, относительную влажность воздуха в %. Числовые параметры погоды округляются до целых чисел"),console.log("%c выводится уведомление об ошибке при вводе некорректных значений, для которых API не возвращает погоду (пустая строка или бессмысленный набор символов)"),console.log("%c при загрузке страницы приложения отображается рандомная цитата и её автор"),console.log("%c при перезагрузке страницы цитата обновляется (заменяется на другую). Есть кнопка, при клике по которой цитата обновляется (заменяется на другую)"),console.log("%c при клике по кнопке Play/Pause проигрывается первый трек из блока play-list, иконка кнопки меняется на Pause"),console.log("%c при клике по кнопке Play/Pause во время проигрывания трека, останавливается проигрывание трека, иконка кнопки меняется на Play"),console.log("%c треки пролистываются по кругу - после последнего идёт первый (клик по кнопке Play-next), перед первым - последний (клик по кнопке Play-prev)"),console.log("%c трек, который в данный момент проигрывается, в блоке Play-list выделяется стилем"),console.log("%c после окончания проигрывания первого трека, автоматически запускается проигрывание следующего. Треки проигрываются по кругу: после последнего снова проигрывается первый."),console.log("%c добавлен прогресс-бар в котором отображается прогресс проигрывания"),console.log("%c при перемещении ползунка прогресс-бара меняется текущее время воспроизведения трека"),console.log("%c над прогресс-баром отображается название трека"),console.log("%c отображается текущее и общее время воспроизведения трека"),console.log("%c есть кнопка звука при клике по которой можно включить/отключить звук"),console.log("%c добавлен регулятор громкости, при перемещении ползунка регулятора громкости меняется громкость проигрывания звука"),console.log("%c можно запустить и остановить проигрывания трека кликом по кнопке Play/Pause рядом с ним в плейлисте"),console.log("%c переводится язык и меняется формат отображения даты"),console.log("%c переводится приветствие и placeholder"),console.log("%c переводится прогноз погоды в т.ч описание погоды и город по умолчанию"),console.log("%c переводится цитата дня т.е цитата отображается на текущем языке приложения. Сама цитата может быть другая"),console.log("%c переводятся настройки приложения, при переключении языка приложения в настройках, язык настроек тоже меняется"),console.log("%c в настройках приложения можно указать язык приложения (en/ru или en/be"),console.log("%c в качестве источника изображений может использоваться Unsplash API"),console.log("%c в качестве источника изображений может использоваться Flickr API"),console.log("%c в настройках приложения можно указать источник получения фото для фонового изображения: коллекция изображений GitHub, Unsplash API, Flickr API"),console.log("%c настройки приложения сохраняются при перезагрузке страницы")},34:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{title:"Aqua Caelestis",src:"./assets/sounds/Aqua Caelestis.mp3",duration:"00:39"},{title:"Ennio Morricone",src:"./assets/sounds/Ennio Morricone.mp3",duration:"01:37"},{title:"River Flows In You",src:"./assets/sounds/River Flows In You.mp3",duration:"01:37"},{title:"Summer Wind",src:"./assets/sounds/Summer Wind.mp3",duration:"01:50"}]}},t={};function o(n){var l=t[n];if(void 0!==l)return l.exports;var r=t[n]={exports:{}};return e[n].call(r.exports,r,r.exports,o),r.exports}o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o(723)})();